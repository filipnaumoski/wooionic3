{"version":3,"sources":["../../src/pages/search/search.module.ts","../../src/pages/products/product-details/product-details.ts","../../src/pages/search/search.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SearchPage } from './search';\n\n@NgModule({\n  declarations: [\n    SearchPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SearchPage),\n  ],\n})\nexport class SearchPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.module.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, ToastController, ModalController, IonicPage } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\n\nimport { CartPage } from '../../cart/cart';\nimport { WoocommerceProvider } from '../../../providers/woocommerce/woocommerce';\n@IonicPage()\n@Component({\n  selector: 'page-product-details',\n  templateUrl: 'product-details.html',\n})\nexport class ProductDetailsPage {\n  product: any;\n  WooCommerce: any;\n  reviews: any[] = [];\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public storage: Storage,\n    public toastCtrl: ToastController,\n    public modalCtrl: ModalController,\n    public WC: WoocommerceProvider\n    ) {\n    this.product = this.navParams.get('product');\n\n    this.WooCommerce = WC.init();\n\n    this.WooCommerce.getAsync('products/' + this.product.id + '/reviews').then(\n      res => {\n        this.reviews = JSON.parse(res.body).product_reviews;\n      },\n      err => {\n        console.log('err', err);\n      }\n    );\n  }\n\n  addToCart(product) {\n    this.storage.get('cart').then(data => {\n      if (data == null || data.length == 0) {\n        data = [];\n        data.push({\n          \"product\": product,\n          \"qty\": 1,\n          \"amount\": +product.price\n        })\n        console.log('data', data);\n      } else {\n        let added = 0\n\n        data.forEach(element => {\n          if (product.id == element.product.id) {\n            let qty = element.qty;\n            element.qty = qty + 1;\n            element.amount = (+element.amount) + (+element.product.price);\n            added = 1;\n          }\n          console.log('el', element);\n        });\n        if (added == 0) {\n          data.push({\n            \"product\": product,\n            \"qty\": 1,\n            \"amount\": +product.price\n          })\n        }\n      }\n      this.storage.set('cart', data).then(data => {\n        this.toastCtrl.create({\n          message: 'Cart Updated!',\n          duration: 3000\n        }).present()\n      })\n    })\n  }\n\n  openCart() {\n    this.modalCtrl.create(CartPage).present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products/product-details/product-details.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, ToastController, IonicPage } from 'ionic-angular';\n\nimport { ProductDetailsPage } from './../products/product-details/product-details';\nimport { WoocommerceProvider } from '../../providers/woocommerce/woocommerce';\n@IonicPage()\n@Component({\n  selector: 'page-search',\n  templateUrl: 'search.html',\n})\nexport class SearchPage {\n  serachQuery: string = '';\n  WooCommerce: any;\n  products: any[] = [];\n  page: number = 2;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public toastCtrl: ToastController,\n    public WC: WoocommerceProvider\n    ) {\n    this.serachQuery = this.navParams.get(\"searchQuery\");\n\n    this.WooCommerce = WC.init();\n\n    this.WooCommerce.getAsync(\"products?filter[q]=\" + this.serachQuery).then( searchData => {\n      this.products = JSON.parse(searchData.body).products;\n    }, err => {\n    })\n  }\n\n  openProductDetails(product) {\n    this.navCtrl.push(ProductDetailsPage, { \"product\": product });\n  }\n\n  loadMoreProducts(event) {\n    this.page++;\n\n    this.WooCommerce.getAsync(\n      'products?filter[category]=' + this.serachQuery + '&page=' + this.page\n    ).then(\n      res => {\n        let temp = JSON.parse(res.body).products;\n        this.products = this.products.concat(JSON.parse(res.body).products);\n        if (event !== null) {\n          event.complete();\n        }\n        if (temp.length < 10) {\n          this.toastCtrl.create({\n            message: 'No more products!',\n            duration: 5000\n          }).present()\n          event.enable(false);\n        }\n      },\n      err => { }\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts"],"sourceRoot":""}
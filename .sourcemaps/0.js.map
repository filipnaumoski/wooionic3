{"version":3,"sources":["../../src/pages/search/search.module.ts","../../src/pages/products/product-details/product-details.ts","../../src/pages/search/search.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SearchPage } from './search';\n\n@NgModule({\n  declarations: [\n    SearchPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SearchPage),\n  ],\n})\nexport class SearchPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.module.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, ToastController, ModalController, IonicPage } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\n\nimport * as WC from 'woocommerce-api';\nimport { CartPage } from '../../cart/cart';\n@IonicPage({})\n@Component({\n  selector: 'page-product-details',\n  templateUrl: 'product-details.html',\n})\nexport class ProductDetailsPage {\n  product: any;\n  WooCommerce: any;\n  reviews: any[] = [];\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public storage: Storage, public toastCtrl: ToastController, public modalCtrl: ModalController) {\n    this.product = this.navParams.get('product');\n\n    this.WooCommerce = WC({\n      url: 'http://localhost:8888/causewayconnect',\n      consumerKey: 'ck_ef17b728d716ec4dcda3d8690f05859cbafa05d0',\n      consumerSecret: 'cs_235d42d99363f30b567e35e22a6ff7104751462c'\n    });\n\n    this.WooCommerce.getAsync('products/' + this.product.id + '/reviews').then(\n      res => {\n        this.reviews = JSON.parse(res.body).product_reviews;\n      },\n      err => {\n        console.log('err', err);\n      }\n    );\n  }\n\n  addToCart(product) {\n    this.storage.get('cart').then(data => {\n      if(data == null || data.length == 0) {\n        data = [];\n        data.push({\n          \"product\": product,\n          \"qty\": 1,\n          \"amount\": +product.price\n        })\n        console.log('data', data);\n      } else {\n        let added = 0\n\n        data.forEach(element => {\n          if(product.id == element.product.id){\n            console.log('Product is already in the cart!');\n            let qty = element.qty;\n            element.qty = qty+1;\n            element.amount = (+element.amount) + (+element.product.price);\n            added = 1;\n          }\n          console.log('el', element);\n        });\n        if(added == 0){\n          data.push({\n            \"product\": product,\n            \"qty\": 1,\n            \"amount\": +product.price\n          })\n        }\n      }\n      this.storage.set('cart', data).then(data =>{\n        console.log('Cart Updated!', data);\n\n        this.toastCtrl.create({\n          message: 'Cart Updated!',\n          duration: 3000\n        }).present()\n      })\n    })\n  }\n\n  openCart() {\n    this.modalCtrl.create(CartPage).present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products/product-details/product-details.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, ToastController, IonicPage } from 'ionic-angular';\nimport * as WC from 'woocommerce-api';\n\nimport { ProductDetailsPage } from './../products/product-details/product-details';\n@IonicPage({})\n@Component({\n  selector: 'page-search',\n  templateUrl: 'search.html',\n})\nexport class SearchPage {\n  serachQuery: string = '';\n  WooCommerce: any;\n  products: any[] = [];\n  page: number = 2;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public toastCtrl: ToastController) {\n    this.serachQuery = this.navParams.get(\"searchQuery\");\n\n    this.WooCommerce = WC({\n      url: 'http://localhost:8888/causewayconnect',\n      consumerKey: 'ck_ef17b728d716ec4dcda3d8690f05859cbafa05d0',\n      consumerSecret: 'cs_235d42d99363f30b567e35e22a6ff7104751462c'\n    });\n\n    this.WooCommerce.getAsync(\"products?filter[q]=\" + this.serachQuery).then( searchData => {\n      this.products = JSON.parse(searchData.body).products;\n    }, err => {\n    })\n  }\n\n  openProductDetails(product) {\n    this.navCtrl.push(ProductDetailsPage, { \"product\": product });\n  }\n\n  loadMoreProducts(event) {\n    this.page++;\n\n    this.WooCommerce.getAsync(\n      'products?filter[category]=' + this.serachQuery + '&page=' + this.page\n    ).then(\n      res => {\n        let temp = JSON.parse(res.body).products;\n        this.products = this.products.concat(JSON.parse(res.body).products);\n        if (event !== null) {\n          event.complete();\n        }\n        if (temp.length < 10) {\n          this.toastCtrl.create({\n            message: 'No more products!',\n            duration: 5000\n          }).present()\n          event.enable(false);\n        }\n      },\n      err => { }\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts"],"sourceRoot":""}